import{a as D,b as T,c as I,d as U,e as q,f as k,g as v}from"./chunk-UZ3Y37IV.js";import{$a as f,Aa as c,Ea as P,Ka as _,Na as x,Oa as g,Pa as V,Qa as A,Ra as i,Sa as n,Ta as u,Ua as E,W as d,Wa as h,Xa as s,Y as p,Ya as b,Za as o,_a as S,aa as M,ba as w,db as C,gb as $,ib as N,wa as F,zb as j}from"./chunk-YBSSHO5Y.js";function O(e){let t=null,m=null;return F(()=>{let a=e();return a!==t&&(m=t,t=a),m})}var B=(()=>{let t=class t{constructor(){this.cartService=d(v),this.cart=this.cartService.cart}delete(a){this.cartService.deleteItem(a)}update(a,r){this.cartService.updateItem(a,r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p({type:t,selectors:[["app-cart-item"]],inputs:{item:"item"},standalone:!0,features:[C],decls:17,vars:5,consts:[[1,"row"],[2,"width","10%"],[2,"width","20%"],[2,"width","40%"],["type","number","min","1",2,"width","50px",3,"ngModel"],["ctrl","ngModel"],[1,"btnUpdate",3,"click"],[3,"click"]],template:function(r,l){if(r&1){let y=E();i(0,"div",0)(1,"p",1),o(2),n(),i(3,"p",2),o(4),n(),i(5,"p",3),o(6),n(),i(7,"p",1),o(8),n(),i(9,"p",1),u(10,"input",4,5),n(),i(12,"p",1)(13,"button",6),h("click",function(){M(y);let z=b(11);return w(l.update(l.item.id,z.value))}),o(14,"Update"),n(),i(15,"button",7),h("click",function(){return l.delete(l.item.id)}),o(16,"X"),n()()()}r&2&&(c(2),S(l.item.id),c(2),S(l.item.title),c(2),S(l.item.description),c(2),S(l.item.price),c(2),_("ngModel",l.item.quantity))},dependencies:[k,D,U,T,q,I],styles:[".row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{border:1px solid black}.btnUpdate[_ngcontent-%COMP%]{margin-right:.25rem}"],changeDetection:0});let e=t;return e})();function H(e,t){if(e&1&&(i(0,"div",2)(1,"div",3),o(2),$(3,"percent"),n(),i(4,"div",3),o(5),n()()),e&2){let m=s(),a=s();c(2),f("Minus ",N(3,2,a.discountPercent(),"2.2-2"),""),c(3),f("Discount: ",m.discount,"")}}function J(e,t){if(e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3),o(3),n(),i(4,"div",3),o(5),n()(),x(6,H,6,5,"div",4),i(7,"div",2)(8,"div",3),o(9,"\xA0"),n(),i(10,"div",3),o(11),n()()()),e&2){let m=s();c(3),f("Qty: ",t.quantity,""),c(2),f("Subtotal: ",t.subtotal,""),c(1),g(6,m.discountPercent()>0?6:-1),c(5),f("Total: ",t.total,"")}}var X=(()=>{let t=class t{constructor(){this.cartService=d(v),this.summary=this.cartService.summary,this.discountPercent=this.cartService.discountPercent;let a=O(this.discountPercent);P(()=>{let r=`Discount changes from ${a()} to ${this.discountPercent()}`;console.log(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p({type:t,selectors:[["app-cart-total"]],standalone:!0,features:[C],decls:1,vars:1,consts:[["class","summary"],[1,"summary"],[1,"row"],[1,"col"],["class","row"]],template:function(r,l){if(r&1&&x(0,J,12,4,"div",0),r&2){let y;g(0,(y=l.summary())?0:-1,y)}},dependencies:[j],styles:[".summary[_ngcontent-%COMP%]{border:1px solid black;margin-bottom:1rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.col[_ngcontent-%COMP%]{width:20%}"],changeDetection:0});let e=t;return e})();var K=(e,t)=>t.id;function L(e,t){if(e&1&&u(0,"app-cart-item",9),e&2){let m=t.$implicit;_("item",m)}}function R(e,t){if(e&1){let m=E();i(0,"div",1)(1,"div",2)(2,"p",3),o(3,"Id"),n(),i(4,"p",4),o(5,"Title"),n(),i(6,"p",5),o(7,"Description"),n(),i(8,"p",3),o(9,"Price"),n(),i(10,"p",3),o(11,"Qty"),n(),i(12,"p",3),o(13,"\xA0"),n()(),V(14,L,1,1,"app-cart-item",9,K),u(16,"app-cart-total"),i(17,"span"),o(18,"Promotion code: "),n(),u(19,"input",6,7),i(21,"button",8),h("click",function(){M(m);let r=b(20),l=s();return w(l.promoCode.set(r.value))}),o(22,"Apply"),n()()}if(e&2){let m=s();c(14),A(m.cart()),c(5),_("ngModel",m.promoCode())}}function W(e,t){e&1&&(i(0,"p"),o(1,"Your cart is empty, please buy something."),n())}var Mt=(()=>{let t=class t{constructor(){this.cartService=d(v),this.cart=this.cartService.cart,this.promoCode=this.cartService.promoCode;let a=O(this.promoCode);P(()=>{let r=`Promo code changes from ${a()} to ${this.promoCode()}`;console.log(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p({type:t,selectors:[["app-cart"]],standalone:!0,features:[C],decls:2,vars:1,consts:[["class","cart"],[1,"cart"],[1,"row"],[2,"width","10%"],[2,"width","20%"],[2,"width","40%"],[3,"ngModel"],["promotionCode","ngModel"],[3,"click"],[3,"item"]],template:function(r,l){r&1&&x(0,R,23,1,"div",0)(1,W,2,0),r&2&&g(0,l.cart().length>0?0:1)},dependencies:[B,X,k,D,T,I],styles:[".row[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{border:1px solid black}input[_ngcontent-%COMP%]{margin-right:.25rem}"],changeDetection:0});let e=t;return e})();export{Mt as CartComponent};
